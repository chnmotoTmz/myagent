import pandas as pd
import matplotlib.pyplot as plt

def process_data(raw_data):
    lines = raw_data.strip().split('\n')[1:]  # Skip header
    data = []
    for line in lines:
        lat, lng, elevation, distance = line.split(',')
        elevation = float(elevation)
        distance = float(distance)
        data.append({'elevation': elevation, 'distance': distance})
    
    start_elevation = data[0]['elevation']
    for point in data:
        point['elevation'] -= start_elevation
    
    return pd.DataFrame(data)

data1_raw = """lat,lng,elevation,distance
35.023472,135.640365,48.8,0
35.023784,135.640099,49.9,42
35.024096,135.639834,77.07,84
35.024407,135.639569,105.08,126
35.024719,135.639303,91.62,168
35.025031,135.639038,59.66,211
35.025343,135.638772,65.47,253
35.025655,135.638507,80.37,295
35.025967,135.638242,73.68,337
35.026278,135.637976,78.01,380
35.026590,135.637711,97.84,422
35.026902,135.637446,120.93,464
35.027214,135.637180,153.54,506
35.027526,135.636915,139.5,548
35.027838,135.636649,120.22,591
35.028149,135.636384,111.81,633
35.028461,135.636119,102.29,675
35.028773,135.635853,128.02,717
35.029085,135.635588,100.57,760
35.029397,135.635322,123.57,802
35.029709,135.635057,126.87,844
35.030020,135.634792,131.27,886
35.030332,135.634526,126.37,929
35.030644,135.634261,137.28,971
35.030956,135.633995,143.99,1013
35.031268,135.633730,132.88,1055
35.031580,135.633464,139.61,1097
35.031891,135.633199,141.45,1140
35.032203,135.632934,141.21,1182
35.032515,135.632668,135.97,1224
35.032827,135.632403,130.6,1266
35.033139,135.632137,129.99,1309
35.033451,135.631872,120.6,1351
35.033762,135.631606,125.27,1393
35.034074,135.631341,124.76,1435
35.034386,135.631076,136.13,1478
35.034698,135.630810,165.23,1520
35.035010,135.630545,187.22,1562
35.035321,135.630279,177.94,1604
35.035633,135.630014,161.32,1646"""

data2_raw = """lat,lng,elevation,distance
35.781004,138.985924,533.36,0
35.781124,138.985628,537.32,29
35.780991,138.985376,535.12,59
35.780808,138.985133,534.42,89
35.780626,138.984890,539.13,119
35.780444,138.984647,541.47,149
35.780376,138.984342,547.64,179
35.780351,138.984013,555.82,209
35.780266,138.983720,568.91,238
35.780070,138.983493,575.53,268
35.779875,138.983265,593.11,298
35.779680,138.983038,583.4,328
35.779484,138.982811,571.03,358
35.779452,138.982518,573.9,388
35.779499,138.982193,587.41,418
35.779545,138.981868,589.29,447
35.779592,138.981542,595.31,477
35.779642,138.981220,589.53,507
35.779849,138.981008,597.59,537
35.780056,138.980797,608.64,567
35.780262,138.980585,610.16,597
35.780469,138.980373,617.08,627
35.780678,138.980167,615.62,656
35.780933,138.980062,609.23,686
35.781188,138.979957,613.66,716
35.781444,138.979852,635.9,746
35.781699,138.979747,647.73,776
35.781954,138.979642,663.01,806
35.782209,138.979537,663.01,836
35.782464,138.979432,660.27,865
35.782719,138.979326,665.35,895
35.782974,138.979221,678.6,925
35.783230,138.979116,686.98,955
35.783485,138.979011,686.23,985
35.783740,138.978906,697.53,1015
35.783968,138.978732,702.3,1045
35.784193,138.978551,703.07,1074
35.784418,138.978370,711.27,1104
35.784643,138.978189,699.27,1134
35.784868,138.978008,701.34,1164"""

data1 = process_data(data1_raw)
data2 = process_data(data2_raw)

plt.figure(figsize=(10, 6))
plt.plot(data1['distance'], data1['elevation'], label='Route 1', color='#8884d8')
plt.plot(data2['distance'], data2['elevation'], label='Route 2', color='#82ca9d')
plt.title('Elevation Change Comparison')
plt.xlabel('Distance (m)')
plt.ylabel('Elevation Change (m)')
plt.grid()
plt.legend()
plt.tight_layout()
plt.show()
